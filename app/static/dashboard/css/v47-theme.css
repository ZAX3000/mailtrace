/* v47-theme.css */

/* Tokens + light theme */
:root{
  --blue:#0d2c54;
  --green:#4caf6d;
  --bg:#f3f7fb;
  --ink:#0b1d36;
  --muted:#5a6a82;
  --line:#e6edf5;
}
html, body{
  background:#f3f7fb !important;
  color:var(--blue) !important;
}

/* Neutralize dark containers */
main, .container, .content, .dashboard, #app, .app, .page, .wrapper {
  background: transparent !important;
  box-shadow: none !important;
}

/* Card/section look */
.section, .panel, .card, .table-wrap, .box, .cardlike {
  background:#ffffff !important;
  border:1px solid var(--line) !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 20px rgba(13,44,84,.06) !important;
}

/* Form + table baseline */
button, .btn, input[type="submit"] {
  background: var(--green) !important;
  color: #fff !important;
  border: 0 !important;
  border-radius: 8px !important;
  font-weight: 700 !important;
  padding: .55rem 1rem !important;
}
input[type="text"], input[type="email"], input[type="number"], input[type="file"],
select, textarea {
  background:#fff !important;
  color: var(--blue) !important;
  border:1px solid var(--line) !important;
  border-radius:6px !important;
  padding:.5rem .6rem !important;
}
table { border-collapse: collapse !important; width:100% !important; background:#fff !important; }
th, td { border-bottom:1px solid var(--line) !important; padding:.6rem .5rem !important; text-align:left !important; }
th { color:var(--blue) !important; font-weight:700 !important; }
td { color: var(--ink) !important; }
tr:nth-child(even) { background: #f8fbfe !important; }

/* Loader color tokens (CSS side) */
#mailtrace-modal .mt-bar { background: rgba(76,175,109,.14) !important; }
#mailtrace-modal .mt-bar-fill { background: var(--green) !important; }
#mailtrace-modal .mt-label, #mailtrace-modal .mt-eta { color: var(--blue) !important; }

/* Table header contrast fix */
table thead, table thead tr, table thead th,
th[role="columnheader"], [role="columnheader"] {
  background: #ffffff !important;
  color: var(--blue) !important;
}
table thead th, th[role="columnheader"] {
  border-bottom: 1px solid var(--line) !important;
  font-weight: 700 !important;
}
/* Kill stray inline dark backgrounds on TH */
th[style*="background"], th[style*="background-color"] {
  background: #ffffff !important;
  color: var(--blue) !important;
}
/* Sticky headers stay light */
thead tr[style*="position: sticky"], thead th[style*="position: sticky"] {
  background: #ffffff !important;
}
/* Common grid headers */
.ag-header, .ag-header-row, .ag-header-cell,
.dataTables_scrollHead, .dataTables_scrollHeadInner,
.grid-header, .table-header {
  background: #ffffff !important;
  color: var(--blue) !important;
  border-bottom: 1px solid var(--line) !important;
}

/* Topbar / toolbar fixes */
header, .header, .topbar, .toolbar, .titlebar, .header-bar, .control-bar, .page-header, .section-header {
  background: transparent !important;
  color: var(--blue) !important;
  box-shadow: none !important;
  border: 0 !important;
}
header h1, header h2, header h3,
.header h1, .header h2, .header h3,
.topbar h1, .topbar h2, .topbar h3,
.titlebar h1, .titlebar h2, .titlebar h3,
.header-bar h1, .header-bar h2, .header-bar h3,
.control-bar h1, .control-bar h2, .control-bar h3,
.page-header h1, .page-header h2, .page-header h3,
.section-header h1, .section-header h2, .section-header h3 {
  color: var(--blue) !important;
}
header[style*="background"], .header[style*="background"],
.topbar[style*="background"], .toolbar[style*="background"],
.titlebar[style*="background"], .header-bar[style*="background"],
.control-bar[style*="background"], .page-header[style*="background"],
.section-header[style*="background"],
h1[style*="background"], h2[style*="background"], h3[style*="background"] {
  background: transparent !important;
  color: var(--blue) !important;
}
.header .actions, .topbar .actions, .toolbar .actions, .titlebar .actions,
.header-bar .actions, .control-bar .actions, .page-header .actions {
  background: transparent !important;
  color: var(--blue) !important;
}
.header .btn.secondary, .topbar .btn.secondary, .toolbar .btn.secondary,
.titlebar .btn.secondary, .header-bar .btn.secondary, .control-bar .btn.secondary,
.page-header .btn.secondary {
  background: #eef5ef !important;
  color: var(--green) !important;
  border: 1px solid var(--green) !important;
}
.header .btn, .topbar .btn, .toolbar .btn, .titlebar .btn,
.header-bar .btn, .control-bar .btn, .page-header .btn,
.header a, .topbar a, .toolbar a, .titlebar a,
.header-bar a, .control-bar a, .page-header a {
  color: var(--blue) !important;
}
header[style*="position: sticky"], .topbar[style*="position: sticky"],
.toolbar[style*="position: sticky"], .titlebar[style*="position: sticky"],
.header-bar[style*="position: sticky"], .control-bar[style*="position: sticky"],
.page-header[style*="position: sticky"] {
  background: #f3f7fb !important;
}
.section-header [style*="background"], .page-header [style*="background"],
.titlebar [style*="background"], .toolbar [style*="background"] {
  background: transparent !important;
  color: var(--blue) !important;
}

/* KPI tile fixes */
#cmp-kpis { background:#ffffff !important; }
#cmp-kpis .kpi { background: transparent !important; }
#cmp-kpis .l {
  color: var(--blue) !important;
  background: transparent !important;
  font-weight: 700 !important;
  font-size: .95rem !important;
  letter-spacing: .1px !important;
  opacity: .9 !important;
  margin-top: .25rem !important;
}
#cmp-kpis .v {
  color: var(--ink) !important;
  font-weight: 800 !important;
  font-size: 1.35rem !important;
}

/* 3D green buttons (global) */
:root{
  --green-hi: #6fd18a;
  --green:    #4caf6d;
  --green-de: #3c9e5d;
  --green-lo: #2e8e51;
}
.btn-demo, .formgrid button, .mt-btn-advanced,
.btn.primary, button.btn-primary, .btn.green,
button[data-variant="primary"], a[data-variant="primary"] {
  position: relative;
  color: #fff !important;
  border: 1px solid var(--green-de) !important;
  border-radius: 10px !important;
  font-weight: 800 !important;
  letter-spacing: .2px;
  text-decoration: none !important;
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%) no-repeat,
    linear-gradient(180deg, var(--green-hi) 0%, var(--green) 45%, var(--green-de) 100%) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    inset 0 -1px 0 rgba(0,0,0,.08),
    0 6px 14px rgba(13,44,84,.10),
    0 2px 6px rgba(13,44,84,.10);
  transition: transform .05s ease, filter .15s ease, box-shadow .15s ease;
}
.btn-demo:hover, .formgrid button:hover, .mt-btn-advanced:hover,
.btn.primary:hover, button.btn-primary:hover, .btn.green:hover,
button[data-variant="primary"]:hover, a[data-variant="primary"]:hover {
  filter: brightness(1.02);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.38),
    inset 0 -1px 0 rgba(0,0,0,.10),
    0 10px 18px rgba(13,44,84,.12),
    0 3px 8px rgba(13,44,84,.12);
}
.btn-demo:active, .formgrid button:active, .mt-btn-advanced:active,
.btn.primary:active, button.btn-primary:active, .btn.green:active,
button[data-variant="primary"]:active, a[data-variant="primary"]:active {
  transform: translateY(1px);
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.18), rgba(255,255,255,0) 55%) no-repeat,
    linear-gradient(180deg, var(--green) 0%, var(--green-de) 55%, var(--green-lo) 100%) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.25),
    inset 0 -1px 0 rgba(0,0,0,.12),
    0 4px 10px rgba(13,44,84,.10),
    0 1px 4px rgba(13,44,84,.10);
}
.btn-demo:disabled, .formgrid button:disabled, .mt-btn-advanced:disabled,
.btn.primary:disabled, button.btn-primary:disabled, .btn.green:disabled,
button[data-variant="primary"][disabled], a[data-variant="primary"].disabled {
  opacity: .65 !important;
  cursor: not-allowed !important;
  filter: grayscale(.1);
}
.btn-demo svg, .formgrid button svg, .mt-btn-advanced svg,
.btn.primary svg, button.btn-primary svg, .btn.green svg,
button[data-variant="primary"] svg, button[data-variant="primary"] [class*="icon"] {
  color: #fff !important; fill: #fff !important; stroke: #fff !important;
}

/* === CTA variants === */

/* Primary 3D gradient CTA (Run Matching, Show Advanced KPIs) */
.mt-cta-3d {
  position: relative;
  color: #fff !important;
  border: 1px solid var(--green-de) !important;
  border-radius: 10px !important;
  font-weight: 800 !important;
  letter-spacing: .2px;
  text-decoration: none !important;
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%) no-repeat,
    linear-gradient(180deg, var(--green-hi) 0%, var(--green) 45%, var(--green-de) 100%) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    inset 0 -1px 0 rgba(0,0,0,.08),
    0 6px 14px rgba(13,44,84,.10),
    0 2px 6px rgba(13,44,84,.10);
  transition: transform .05s ease, filter .15s ease, box-shadow .15s ease;
}
.mt-cta-3d:hover {
  filter: brightness(1.02);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.38),
    inset 0 -1px 0 rgba(0,0,0,.10),
    0 10px 18px rgba(13,44,84,.12),
    0 3px 8px rgba(13,44,84,.12);
}
.mt-cta-3d:active { transform: translateY(1px); }
.mt-cta-3d:disabled,
.mt-cta-3d[disabled] {
  opacity: .65 !important;
  cursor: not-allowed !important;
  pointer-events: none; /* extra safety */
}
.mt-cta-3d:focus-visible {
  outline: 2px solid #0d2c54;
  outline-offset: 2px;
}
.mt-cta-3d svg,
.mt-cta-3d [class*="icon"] { color:#fff !important; fill:#fff !important; stroke:#fff !important; }

/* Ensure input-based CTAs render gradients correctly */
input[type="button"].mt-cta-3d,
input[type="submit"].mt-cta-3d {
  -webkit-appearance: none;
  appearance: none;
}

/* Secondary / outline CTA (Edit Mapping, less-prominent actions) */
.mt-cta-secondary {
  position: relative;
  background: #fff !important;
  color: var(--blue) !important;
  border: 1px solid var(--line) !important;
  border-radius: 10px !important;
  font-weight: 700 !important;
  letter-spacing: .2px;
  text-decoration: none !important;
  box-shadow:
    0 2px 6px rgba(13,44,84,.06),
    inset 0 1px 0 rgba(255,255,255,.6);
  transition: transform .05s ease, filter .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.mt-cta-secondary:hover {
  border-color: var(--green);
  box-shadow:
    0 4px 10px rgba(13,44,84,.08),
    inset 0 1px 0 rgba(255,255,255,.7);
}
.mt-cta-secondary:active { transform: translateY(1px); }
.mt-cta-secondary:disabled,
.mt-cta-secondary[disabled] {
  opacity: .65 !important;
  cursor: not-allowed !important;
  pointer-events: none;
}
.mt-cta-secondary:focus-visible {
  outline: 2px solid #0d2c54;
  outline-offset: 2px;
}
.mt-cta-secondary svg,
.mt-cta-secondary [class*="icon"] { color: var(--blue) !important; fill: var(--blue) !important; stroke: var(--blue) !important; }

/* === MailTrace Error Modal (brand) === */
#mt-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(13,44,84,0.35);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
#mt-modal {
  width: min(520px, 92vw);
  background: #fff;
  color: var(--blue);
  border: 1px solid var(--line);
  border-radius: 14px;
  box-shadow: 0 24px 60px rgba(13,44,84,.18);
  transform: translateY(8px) scale(.98);
  opacity: 0;
  transition: transform .15s ease, opacity .15s ease;
}
#mt-modal.open { transform: translateY(0) scale(1); opacity: 1; }
#mt-modal header {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: 14px 16px 8px;
  border-bottom: 1px solid var(--line);
}
#mt-modal header .dot {
  width: 12px; height: 12px; border-radius: 999px;
  background: linear-gradient(180deg, #6fd18a 0%, #4caf6d 55%, #3c9e5d 100%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6), 0 0 0 2px rgba(76,175,109,.15);
}
#mt-modal header h3 { margin: 0; font-size: 1.05rem; color: #0d2c54; }
#mt-modal .content { padding: 14px 16px; font-size: .98rem; line-height: 1.45; }
#mt-modal .content p { margin: .35rem 0; }
#mt-modal footer {
  display: flex;
  gap: .5rem;
  justify-content: flex-end;
  padding: 12px 16px 16px;
  border-top: 1px solid var(--line);
}
#mt-modal .btn {
  appearance: none;
  border-radius: 10px;
  border: 1px solid var(--line);
  padding: .55rem 1rem;
  font-weight: 700;
  cursor: pointer;
}
#mt-modal .btn-primary {
  color: #fff;
  border-color: #3c9e5d;
  background: linear-gradient(180deg, #6fd18a 0%, #4caf6d 45%, #3c9e5d 100%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.35), 0 6px 14px rgba(13,44,84,.10);
}
#mt-modal .btn-primary:active { transform: translateY(1px); }
#mt-modal .btn-outline { color: #0d2c54; background:#fff; }
#mt-modal .hint { margin-top: .4rem; font-size: .9rem; color: #5a6a82; }
#mt-modal-backdrop.show { display: flex; }
